<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ARIA Assignment 3</title>
    <link rel="stylesheet" href="assignment3.css" type="text/css">
</head>
<body>
    <header>
        <h1>ARIA Assignment 3</h1>
        <h2>What to do:</h2>
        <p>Add the appropriate ARIA to make this tabbed interface accessible.</p>
    </header>
    <main>
        <h2>Tabbed Interface</h2>
        <p>All text here is from <a href="http://fillerama.io/" target="_blank" rel="noopener noreferrer">Fillerama</a>:</p>

        <!-- ARIA live region for screen reader announcement -->
        <div id="announcement" aria-live="polite" style="position:absolute; width:1px; height:1px; overflow:hidden;">
            Tab selected: Arrested Development
        </div>

        <div class="tabHolder">
            <ul class="tabList" role="tablist">
                <li>
                    <button id="adTabBtn" class="tabBtn" role="tab" aria-selected="true" aria-controls="adTabPanel" aria-posinset="1" aria-setsize="3" tabindex="0">Arrested Development</button>
                </li>
                <li>
                    <button id="drWTabBtn" class="tabBtn" role="tab" aria-selected="false" aria-controls="drWTabPanel" aria-posinset="2" aria-setsize="3" tabindex="-1">Doctor Who</button>
                </li>
                <li>
                    <button id="futuramaTabBtn" class="tabBtn" role="tab" aria-selected="false" aria-controls="futuramaTabPanel" aria-posinset="3" aria-setsize="3" tabindex="-1">Futurama</button>
                </li>
            </ul>

            <div class="panels">
                <!-- Content for Arrested Development tab -->
                <div id="adTabPanel" class="tabPanel" role="tabpanel" aria-labelledby="adTabBtn">
                    <h2>Arrested Development Filler</h2>
                    <h3>I'm afraid I just blue myself.</h3>
                    <p>I'm half machine. I'm a monster. Well, what do you expect, mother? What's Spanish for "I know you speak English?" Marry me.</p>
                    <p>Across from where? I hear the jury's still out on science. <strong>It's called 'taking advantage.'</strong> <em>It's what gets you ahead in life.</em> Say goodbye to these, because it's the last time!</p>
                </div>

                <!-- Content for Doctor Who tab -->
                <div id="drWTabPanel" class="tabPanel hidden" role="tabpanel" aria-labelledby="drWTabBtn" tabindex="0">
                    <h2>Doctor Who Filler</h2>
                    <h3>They're not aliens, they're Earthâ€¦liens!</h3>
                    <p>It's a fez. I wear a fez now. Fezes are cool. I am the Doctor, and you are the Daleks!</p>
                    <p>You've swallowed a planet! Aw, you're all Mr. Grumpy Face today. You hate me; you want to kill me! <strong>Well, go on!</strong> <em>Kill me!</em> KILL ME!</p>
                </div>

                <!-- Content for Futurama tab -->
                <div id="futuramaTabPanel" class="tabPanel hidden" role="tabpanel" aria-labelledby="futuramaTabBtn" tabindex="0">
                    <h2>Futurama Filler</h2>
                    <h3>Daddy Bender, we're hungry.</h3>
                    <p>I just want to talk. It has nothing to do with mating. Fry, that doesn't make sense.</p>
                    <p>Bender?! You stole the atom. I want to live! There are still too many things I don't own!</p>
                </div>
            </div>
        </div>
    </main>
    <footer>
        <p>Go back to <a href="../">ARIA Intro Assignments</a>.</p>
        <p>Copyright: Andrew Nordlund 2023</p>
    </footer>
    <script>
        const tabs = document.querySelectorAll('.tabBtn');
        const panels = document.querySelectorAll('.tabPanel');
        const announcement = document.getElementById('announcement');

        function activateTab(tab, index) {
            // Deactivate all tabs and hide all panels
            tabs.forEach((t, i) => {
                t.setAttribute('aria-selected', 'false');
                t.setAttribute('tabindex', '-1');
                panels[i].classList.add('hidden');
            });

            // Activate the selected tab and display the corresponding panel
            tab.setAttribute('aria-selected', 'true');
            tab.setAttribute('tabindex', '0');
            panels[index].classList.remove('hidden');

            // Update live region for screen reader announcement
            announcement.textContent = `Tab selected: ${tab.textContent}`;

            // Set focus to the selected tab
            tab.focus();
        }

        tabs.forEach((tab, index) => {
            tab.addEventListener('click', () => activateTab(tab, index));

            // Enable keyboard navigation (left and right arrow keys)
            tab.addEventListener('keydown', (event) => {
                if (event.key === 'ArrowRight') {
                    const nextIndex = (index + 1) % tabs.length;
                    activateTab(tabs[nextIndex], nextIndex);
                } else if (event.key === 'ArrowLeft') {
                    const prevIndex = (index - 1 + tabs.length) % tabs.length;
                    activateTab(tabs[prevIndex], prevIndex);
                }
            });
        });
    </script>
</body>
</html>



